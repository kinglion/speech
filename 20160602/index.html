<!doctype html>

<html lang="cn">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Huichuan FrontEnd Rebuild | by @木端</title>
    
    <meta name="description" content="Huichuan FrontEnd" />
    <meta name="author" content="木端" />

    <link href="css/impress-demo.css" rel="stylesheet" />
    
    <link rel="shortcut icon" href="favicon.png" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />
</head>

<body class="impress-not-supported">
<div id="impress">

    <div id="title" class="step slide" data-x="0" data-y="0">
        <q style="margin-top:250px;">汇川投放前端重构</q>
        <h2>@木端</p2>
    </div>

    <div class="step slide" data-x="1500" data-y="0">
        <q style="margin-top:120px;"><strong>PROD.</strong><p>react+redux</p></q>
        <q><strong>DEV.</strong><p>react+redux+webpack+koa(nodejs)</p></q>
    </div>

    <div class="step slide content-center" data-x="3000" data-y="0">
        <q>为何要重构?</q>
    </div>

    <div id="its-in-3d" class="step text-left scale-animation" data-x="6200" data-y="4200" data-z="0" data-scale="2">
        <p>重复的地方太多</p>
    </div>

    <div id="next" class="step text-left text-path" data-x="9200" data-y="4200">
        <p>路径:<span>/static-dev/account/js/common/common.js</span></p>
        <p>
            <img src="img/section4-1.png">
        </p>
        <p>路径:<span>/static-dev/user/js/common/common.js</span></p>
        <p>
            <img src="img/section4-2.png">
        </p>
        <p>路径:<span>/static-dev/manager/js/common/common.js</span></p>
        <p>
            <img src="img/section4-2.png">
        </p>
    </div>


    <div id="its-in-3d" class="step text-left scale-animation" data-x="6200" data-y="4400" data-z="0" data-scale="2">
        <p>可读性太差</p>
    </div>

    <div id="next1" class="step text-left text-path" data-x="9200" data-y="5200">
        <p>
            <img src="img/section5-1.png">
        </p>
    </div>

    <div id="its-in-3d" class="step text-left scale-animation" data-x="6200" data-y="4600" data-z="0" data-scale="2">
        <p>结构松散</p>
    </div>

    <div id="step-9" class="step slide" data-x="4500" data-y="0">
        <p style="margin-top:180px; font-size:50px;">重构技术栈选择</p>
        <ul style="margin-left: 250px; margin-top:50px;">
            <li>Vue.js</li>
            <li>AngularJS</li>
            <li>React</li>
        </ul>
    </div>

    <div id="step-10" class="step slide" data-x="4500" data-y="0">
        <p style="margin-top:180px; font-size:50px;">重构技术栈选择</p>
        <ul style="margin-left: 250px; margin-top:50px;">
            <li>Vue.js</li>
            <li>AngularJS</li>
            <li style="color:#7B0606">React+Redux</li>
        </ul>
    </div>

    <div class="step slide content-center" data-x="6000" data-y="0">
        <q>React?  Redux?</q>
    </div>

    <div class="step slide radius-img" data-x="7500" data-y="0">
        <p style="margin-bottom:20px;">目录前后 Diff</p>
        <div style="float:left; margin-left:130px;">
            <p style="margin-bottom:10px;">Before.</p>
            <img src="img/section6-2.png" height="500">
        </div>
        <div style="float:left; margin-left:50px;">
            <p style="margin-bottom:10px;">After.</p>
            <img src="img/section6-1.png" height="500"> 
        </div>
    </div>
    <div class="step slide text-path" data-x="9000" data-y="0">
        <q>路由VS</q>
        <p style="margin-top:150px; text-align:left; padding-left:50px;">Bf.<span style="color:red; font-size:20px; ">http://100.85.69.70/ad/static/user/pages/index.html?userId=100001820</span></p>
        <p style="margin-top:50px; text-align:left; padding-left:50px;">At.<span style="color:green; font-size:20px; text-align:left;">http://100.85.69.70/ad/static/index.html?userId=100001820#/spread?_k=rnjoq7</span></p>
        <small style="position:absolute; bottom:150px; width:100%; left:0;">bowserHistory & hashHistory</small>
    </div>
    <div class="step slide text-path" data-x="10500" data-y="0">
        <p style="margin-top:180px; font-size:50px;">规范</p>
        <ul style="margin-left: 150px; margin-top:50px;">
            <li>classModule</li>
            <li>基于redux+独立组件管理自身状态的模式</li>
        </ul>
    </div>
    <div class="step slide" data-x="12000" data-y="0">
        <p style="margin-top:180px; font-size:50px;">遇到的问题</p>
        <ul style="margin-left: 100px; margin-top:50px;">
            <li>上线流程 <span style="font-size:20px; color:red; display:block;">新旧代码，由maven驱动打包</span></li>
            <li>上线第二天，神马的老大过来说，这个有点慢... <span style="font-size:20px; color:red; display:block;">检查render数，请求数</span></li>
        </ul>
    </div>
    <div class="step slide" data-x="13500" data-y="0">
        <p style="margin-top:130px; font-size:50px;">Optimization</p>
        <ul style="margin-left: 100px; margin-top:50px;">
            <li>代码风格不统一</li>
            <li>缺少足够的单元测试覆盖</li>
            <li>代码可以更抽象</li>
            <li>路由状态没有同步给redux</li>
            <li>import { xxx } from ‘xxx’ VS. import xxx from ‘xxx/xxx’</li>
            <li>Class && 函数式</li>
        </ul>
    </div>
    <div class="step content-center" data-x="15000" data-y="0">
        <p>Q&A</p>
    </div>
</div>

<script>
if ("ontouchstart" in document.documentElement) { 
    document.querySelector(".hint").innerHTML = "<p>Tap on the left or right to navigate</p>";
}
</script>

<script src="js/impress.js"></script>
<script>impress().init();</script>


</body>
</html>
